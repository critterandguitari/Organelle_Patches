#N canvas 638 50 1042 924 12;
#X obj 176 636 spigot;
#X text 377 369 rewind;
#X obj 464 856 outlet;
#X obj 279 517 text get \$1 -1;
#X obj 279 635 spigot;
#X text 473 568 if a valid entry \, let it through \, otherwise block
;
#X obj 335 397 t b b b, f 8;
#N canvas 5 50 449 248 check-line 0;
#X obj 159 63 sel 2 0, f 15;
#X obj 159 22 inlet;
#X obj 159 151 outlet;
#X obj 159 102 0;
#X obj 210 109 1;
#X connect 0 0 3 0;
#X connect 0 1 4 0;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X restore 374 567 pd check-line;
#X obj 383 710 route length;
#X text 403 398 zero out the last stored seq clock time \, reset line
counter \, get first line;
#X obj 383 804 s \$0len;
#X text 512 855 events;
#X obj 156 187 clocker;
#X obj 11 27 r \$0len;
#X obj 156 27 inlet;
#X obj 335 27 inlet;
#X text 377 26 controls;
#X text 197 27 beat clock;
#X obj 149 339 r \$0len;
#X obj 76 422 sel 1;
#X obj 76 453 s \$0end;
#X obj 665 776 r \$0end;
#X obj 665 857 outlet;
#X obj 122 363 - 1;
#X text 713 853 bang at end;
#X obj 156 307 t f f f, f 26;
#X obj 336 160 s \$0quantize-length;
#N canvas 218 112 500 306 line-count 0;
#X obj 234 144 + 1;
#X obj 168 27 inlet;
#X obj 168 206 outlet;
#X obj 256 27 inlet;
#X text 301 28 reset;
#X text 216 208 count;
#X text 214 24 inc;
#X obj 168 144 f 0;
#X obj 168 173 t f f;
#X obj 256 75 0;
#X connect 0 0 7 1;
#X connect 1 0 7 0;
#X connect 3 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 8 1 0 0;
#X connect 9 0 7 1;
#X restore 279 462 pd line-count;
#X obj 159 406 r \$0get-next;
#X obj 176 715 s \$0get-next;
#X obj 506 737 r \$0quantize-length;
#N canvas 8 50 587 415 quantize-length 0;
#X obj 71 19 inlet;
#X obj 217 23 inlet;
#X obj 86 359 outlet;
#X obj 159 142 / 360;
#X obj 159 200 i;
#X obj 205 290 * 360;
#X obj 216 50 t f f;
#X obj 179 76 == 0, f 5;
#X text 210 190 quantize length to nearest quarter \, but not 0;
#X obj 86 110 spigot 0;
#X obj 159 111 spigot 1;
#X obj 159 169 + 0.49999;
#X obj 159 224 moses 1;
#X obj 159 248 t b;
#X obj 159 272 360;
#X connect 0 0 9 0;
#X connect 0 0 10 0;
#X connect 1 0 6 0;
#X connect 3 0 11 0;
#X connect 4 0 12 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 6 1 10 1;
#X connect 7 0 9 1;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 12 1 5 0;
#X connect 13 0 14 0;
#X connect 14 0 2 0;
#X restore 383 766 pd quantize-length;
#N canvas 10 50 600 521 compare-times 0;
#X obj 220 142 list split 1, f 18;
#X obj 252 349 list, f 5;
#X obj 252 380 list trim;
#X obj 220 285 sel 1;
#X obj 220 312 t b b;
#X text 396 295 wait until sequcned clock advances then send out event
and get next., f 26;
#X obj 220 218 f, f 19;
#X obj 220 175 t b f;
#X obj 126 77 inlet;
#X text 101 42 seq clock;
#X obj 220 77 inlet;
#X text 238 49 event;
#X obj 376 81 inlet;
#X text 372 57 zero it out;
#X obj 252 417 outlet;
#X obj 220 474 outlet;
#X obj 220 250 >=, f 6;
#X obj 376 123 0;
#X connect 0 0 7 0;
#X connect 0 1 1 1;
#X connect 1 0 2 0;
#X connect 2 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 15 0;
#X connect 4 1 1 0;
#X connect 6 0 16 0;
#X connect 7 0 6 0;
#X connect 7 1 16 1;
#X connect 8 0 6 0;
#X connect 10 0 0 0;
#X connect 12 0 17 0;
#X connect 16 0 3 0;
#X connect 17 0 6 1;
#X restore 176 676 pd compare-times - - - - - - -;
#X obj 76 386 >=, f 7;
#X obj 731 86 route start start-sync;
#X obj 731 123 t b;
#X obj 638 298 sel 0;
#X obj 638 320 spigot 0;
#X obj 335 49 t a a, f 57;
#X obj 778 737 outlet;
#N canvas 1127 205 572 545 quantize-place 0;
#X obj 62 17 inlet;
#X obj 202 321 i;
#X obj 62 493 outlet;
#X obj 202 220 list split 1, f 21;
#X obj 202 422 list append;
#X obj 262 66 i \$2;
#X obj 262 90 change -1;
#X obj 262 116 t a a, f 9;
#X obj 62 41 t a a b, f 29;
#X obj 62 174 spigot 0;
#X obj 202 180 spigot 0, f 17;
#X obj 262 140 == 0;
#X obj 202 392 - 1;
#X text 320 235 move to closest 32nd (45 ticks);
#X obj 202 250 / 90;
#X obj 202 368 * 90;
#X obj 287 37 r \$0-q-notes;
#X obj 202 274 + 0.49999;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 3 0 14 0;
#X connect 3 1 4 1;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 11 0;
#X connect 7 1 10 1;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 8 2 5 0;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 9 1;
#X connect 12 0 4 0;
#X connect 14 0 17 0;
#X connect 15 0 12 0;
#X connect 16 0 5 1;
#X connect 17 0 1 0;
#X restore 242 573 pd quantize-place;
#X text 531 143 Arg1: name;
#X text 532 169 Arg2: qunatize? bool 0-1;
#X obj 374 595 t a a;
#X obj 11 116 list trim;
#X obj 11 92 list prepend length;
#X obj 712 330 0;
#X obj 731 222 1;
#X obj 156 51 t a a;
#X obj 188 93 v \$0-pre-clocker;
#X obj 806 121 t b b;
#X obj 838 151 v \$0-pre-clocker;
#X obj 838 175 <= 180;
#X obj 838 199 sel 0 1, f 10;
#X obj 156 261 t a a, f 45;
#X obj 156 235 %;
#X obj 11 51 t a a;
#X obj 838 267 s \$0-set-q-start;
#X obj 258 183 r \$0-set-q-start;
#X obj 156 211 + 0, f 15;
#X obj 838 223 0;
#X obj 670 270 r \$0-set-q-start;
#X obj 638 342 t b b b;
#X obj 335 371 sel 0;
#X obj 336 88 route quantize-length q-notes;
#X obj 449 131 s \$0-q-notes;
#X obj 871 225 0;
#X connect 0 0 32 0;
#X connect 3 0 40 0;
#X connect 3 1 7 0;
#X connect 4 0 32 1;
#X connect 6 0 27 0;
#X connect 6 1 27 1;
#X connect 6 2 32 2;
#X connect 7 0 43 0;
#X connect 8 0 31 0;
#X connect 8 1 2 0;
#X connect 12 0 59 0;
#X connect 13 0 56 0;
#X connect 14 0 48 0;
#X connect 15 0 38 0;
#X connect 18 0 23 0;
#X connect 19 0 20 0;
#X connect 21 0 22 0;
#X connect 23 0 33 1;
#X connect 25 0 33 0;
#X connect 25 1 0 0;
#X connect 25 2 63 0;
#X connect 27 0 3 0;
#X connect 28 0 27 0;
#X connect 30 0 31 1;
#X connect 31 0 10 0;
#X connect 32 0 29 0;
#X connect 32 1 8 0;
#X connect 33 0 19 0;
#X connect 34 0 35 0;
#X connect 34 1 50 0;
#X connect 35 0 47 0;
#X connect 36 0 37 0;
#X connect 37 0 62 0;
#X connect 38 0 64 0;
#X connect 38 1 34 0;
#X connect 40 0 4 0;
#X connect 43 0 0 1;
#X connect 43 1 4 1;
#X connect 44 0 12 0;
#X connect 45 0 44 0;
#X connect 46 0 37 1;
#X connect 47 0 37 1;
#X connect 48 0 12 0;
#X connect 48 1 49 0;
#X connect 50 0 47 0;
#X connect 50 1 51 0;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 53 0 60 0;
#X connect 53 1 66 0;
#X connect 54 0 25 0;
#X connect 54 1 36 0;
#X connect 55 0 54 0;
#X connect 56 0 45 0;
#X connect 56 1 55 1;
#X connect 58 0 59 1;
#X connect 59 0 55 0;
#X connect 60 0 57 0;
#X connect 61 0 36 1;
#X connect 62 1 39 0;
#X connect 62 2 46 0;
#X connect 63 0 6 0;
#X connect 64 0 26 0;
#X connect 64 1 65 0;
#X connect 64 2 12 0;
#X connect 66 0 57 0;
