#N canvas 210 50 1574 1022 10;
#X obj 1142 792 soundfiler;
#X text 1021 118 construct the read message using the sound file name
(\$1);
#X obj 458 111 stripnote;
#X obj 458 198 % 24;
#X obj 458 172 abs;
#X text 612 24 loads and plays sound file;
#X text 613 46 argument 1: soundfile to load;
#X obj 458 133 expr if ($f1 > 59 \, $f1 - 60 \, $f1 - 12);
#X text 539 110 allow all midi notes to trigger samples...;
#X obj 216 303 r~ inL;
#X obj 286 302 r~ inR;
#X obj 382 850 s \$1-array;
#X obj 458 257 spigot 0, f 18;
#X msg 472 382 0;
#X text 483 420 the threshold is hardcoded at .01...;
#X obj 286 421 threshold~ 0.01 1200, f 27;
#X obj 801 349 s rec-state;
#X msg 801 328 2;
#X obj 286 466 spigot 0, f 25;
#X obj 286 626 s rec-state;
#X msg 286 599 3;
#X msg 458 313 1;
#X obj 286 371 *~ 1;
#X obj 973 351 s slot-choice;
#X obj 458 283 t b b b b, f 74;
#X obj 1177 544 r saveState;
#X obj 659 827 s rec-state;
#X msg 659 801 0;
#X obj 506 162 loadbang;
#X obj 506 184 f \$1;
#X obj 506 206 - 1;
#X obj 458 232 sel;
#X obj 973 323 f \$1;
#X msg 451 614 stop, f 5;
#X msg 562 825 stop;
#X obj 216 325 *~ 0.707;
#X obj 286 324 *~ 0.707;
#X obj 382 660 del 990, f 17;
#X obj 575 880 *~, f 23;
#X obj 772 801 vline~;
#X obj 771 832 *~;
#X obj 382 578 t b b b, f 39;
#X obj 382 772 t b b b, f 40;
#X obj 382 702 t b b, f 44;
#X obj 382 734 del 10;
#X obj 458 77 r notes;
#X obj 308 397 delwrite~ \$1-del 10;
#X obj 575 858 delread~ \$1-del 10;
#X obj 1072 167 r global-max-duration;
#X obj 1072 219 pack 0 \$1;
#X obj 1072 189 * 44.1;
#X obj 498 613 r global-max-duration;
#X text 1265 543 save soundfile;
#X text 234 815 normalize when done;
#X text 1268 20 <-- click to see;
#X obj 581 165 r rec-state;
#X obj 581 187 sel 1;
#X obj 613 209 t b;
#X msg 613 231 0;
#X msg 581 209 1;
#X obj 286 519 t b b b b b, f 37;
#X msg 591 489 0;
#X obj 854 805 r sample-pack;
#X obj 1063 19 array define \$1-array1 44100;
#X obj 1063 39 array define \$1-array2 44100;
#X obj 1063 59 array define \$1-array3 44100;
#X msg 1072 246 \; \$2-array1 resize \$1 \; \$2-array2 resize \$1 \;
\$2-array3 resize \$1 \;;
#X obj 521 945 tabwrite~ \$1-array1;
#X obj 1177 619 f \$1;
#X obj 1142 466 f \$1;
#X msg 1177 645 write Sounds1/\$1.wav \$1-array1 \, write Sounds2/\$1.wav
\$1-array2 \, write Sounds3/\$1.wav \$1-array3;
#X msg 1142 492 read Sounds1/\$1.wav \$1-array1 \, read Sounds2/\$1.wav
\$1-array2 \, read Sounds3/\$1.wav \$1-array3;
#X obj 854 827 t b a;
#X obj 854 859 pack \$1 0;
#X msg 854 881 set \$1-array\$2;
#X msg 382 815 normalize 1;
#X msg 685 728 0 10;
#X msg 740 725 1 10;
#X obj 583 340 r rec-state;
#X obj 583 362 sel 0;
#X msg 583 384 0;
#X obj 498 635 - 20;
#X obj 1142 364 r 2nd-loadbang;
#X connect 2 0 7 0;
#X connect 3 0 31 0;
#X connect 4 0 3 0;
#X connect 7 0 4 0;
#X connect 9 0 35 0;
#X connect 10 0 36 0;
#X connect 12 0 24 0;
#X connect 13 0 15 1;
#X connect 15 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 60 0;
#X connect 20 0 19 0;
#X connect 21 0 18 1;
#X connect 22 0 15 0;
#X connect 22 0 46 0;
#X connect 24 0 21 0;
#X connect 24 1 13 0;
#X connect 24 2 17 0;
#X connect 24 3 32 0;
#X connect 25 0 68 0;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 31 1;
#X connect 31 0 12 0;
#X connect 32 0 23 0;
#X connect 33 0 37 0;
#X connect 33 0 44 0;
#X connect 34 0 67 0;
#X connect 35 0 22 0;
#X connect 36 0 22 0;
#X connect 37 0 43 0;
#X connect 38 0 67 0;
#X connect 39 0 40 0;
#X connect 39 0 40 1;
#X connect 40 0 38 1;
#X connect 41 0 37 0;
#X connect 41 1 33 0;
#X connect 41 2 77 0;
#X connect 42 0 75 0;
#X connect 42 1 34 0;
#X connect 42 2 27 0;
#X connect 43 0 44 0;
#X connect 43 1 76 0;
#X connect 44 0 42 0;
#X connect 45 0 2 0;
#X connect 47 0 38 0;
#X connect 48 0 50 0;
#X connect 49 0 66 0;
#X connect 50 0 49 0;
#X connect 51 0 81 0;
#X connect 55 0 56 0;
#X connect 56 0 59 0;
#X connect 56 1 57 0;
#X connect 57 0 58 0;
#X connect 58 0 12 1;
#X connect 59 0 12 1;
#X connect 60 0 20 0;
#X connect 60 1 41 0;
#X connect 60 2 67 0;
#X connect 60 3 34 0;
#X connect 60 4 61 0;
#X connect 61 0 18 1;
#X connect 62 0 72 0;
#X connect 68 0 70 0;
#X connect 69 0 71 0;
#X connect 70 0 0 0;
#X connect 71 0 0 0;
#X connect 72 0 73 0;
#X connect 72 1 73 1;
#X connect 73 0 74 0;
#X connect 74 0 67 0;
#X connect 75 0 11 0;
#X connect 76 0 39 0;
#X connect 77 0 39 0;
#X connect 78 0 79 0;
#X connect 79 0 80 0;
#X connect 80 0 18 1;
#X connect 81 0 37 1;
#X connect 82 0 69 0;
