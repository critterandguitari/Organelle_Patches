#N canvas 645 328 1042 637 10;
#X obj 17 47 inlet messages;
#X obj 110 97 s \$0-ticks, f 8;
#X obj 205 136 v \$0-current;
#X obj 371 155 t b;
#X msg 371 206 click;
#X text 186 27 follow what the seq 4 loop plyer is doing. capture loop
amounts and what is playing;
#X obj 674 103 s \$0-reset;
#X obj 586 101 v \$0-c-tick;
#N canvas 4 50 1182 752 stitch-together 0;
#X msg 853 132 clear;
#X obj 93 45 inlet;
#X obj 93 374 + 1;
#X obj 150 510 ==, f 18;
#X obj 150 531 sel 0 1, f 19;
#X obj 211 567 f 1;
#X obj 93 602 f, f 14;
#X obj 150 484 list split 1;
#X obj 258 406 list split 1;
#X obj 93 345 t a a, f 28;
#X obj 93 442 route bang;
#X obj 93 463 t b;
#X obj 301 632 list;
#X msg 301 605 69;
#X obj 301 653 route 69;
#X obj 93 299 list split 1, f 18;
#X obj 93 275 t a a, f 60;
#X obj 93 395 t a a a, f 25;
#X obj 93 626 t b a;
#X obj 93 148 - 1;
#X obj 93 169 t a b, f 12;
#X msg 162 195 1;
#X obj 93 200 until;
#X obj 93 231 f;
#X obj 124 231 + 1;
#X obj 853 209 text define \$0-adder1;
#X obj 880 182 text define \$0-adder2;
#X obj 853 153 t a a;
#X obj 609 255 text fromlist \$0-adder1;
#X obj 643 206 text fromlist \$0-adder2;
#X obj 609 230 text get \$1-phrases;
#X obj 643 181 text get \$1-phrases;
#X text 322 47 stitch 1 into 2;
#X obj 93 127 text size \$0-adder1;
#X obj 93 252 text get \$0-adder1;
#X obj 258 385 text get \$0-adder2;
#X obj 93 321 text search \$0-adder2 < 0;
#X obj 93 421 text get \$0-adder2;
#X obj 105 693 text insert \$0-adder2;
#N canvas 315 97 973 826 make-adder2 0;
#X obj 218 399 until;
#X obj 218 425 f;
#X obj 253 426 + 1;
#X obj 218 446 %, f 13;
#X text 390 533 add the loop length;
#X obj 459 559 + 1;
#X obj 347 558 f 0, f 13;
#X obj 347 619 *, f 34;
#X msg 380 257 0;
#X obj 380 322 list split 2;
#X obj 218 732 list split 1, f 20;
#X obj 218 650 t f f, f 24;
#X obj 218 753 +;
#X obj 347 578 t f f, f 28;
#X obj 375 721 +;
#X obj 512 658 *, f 21;
#X obj 218 797 list append;
#X obj 415 434 list prepend -1 length;
#X obj 415 413 * 4;
#X obj 218 222 t f f f, f 45;
#X obj 218 355 t a b b, f 23;
#X obj 218 302 * 4;
#X obj 485 252 - 1;
#X obj 218 274 - 1;
#X msg 260 397 0;
#X obj 218 467 + 1;
#X obj 347 531 sel 1;
#X obj 218 488 t f f, f 22;
#X obj 64 51 inlet what-sequence/trigger;
#X obj 64 88 unpack 0 0 0, f 104;
#X obj 281 256 t f f;
#X text 404 55 make current phrasse longer and stitich in the new phrase
;
#X obj 64 157 t b b b, f 52;
#X obj 413 357 t f f b, f 25;
#X msg 478 461 0;
#X obj 218 190 text size \$0-adder2;
#X obj 380 301 text get \$0-adder2;
#X obj 415 488 text set \$0-adder2;
#X obj 218 705 text get \$0-adder2;
#X obj 787 244 * 360;
#X obj 787 265 i;
#X obj 218 774 +, f 79;
#X obj 218 671 i;
#X obj 218 826 text set \$0-adder2, f 53;
#X obj 635 369 - 0;
#X msg 353 436 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 25 0;
#X connect 5 0 6 1;
#X connect 6 0 5 0;
#X connect 6 0 13 0;
#X connect 7 0 12 1;
#X connect 8 0 36 0;
#X connect 9 1 33 0;
#X connect 10 0 12 0;
#X connect 10 1 16 1;
#X connect 11 0 42 0;
#X connect 11 1 14 0;
#X connect 12 0 41 0;
#X connect 13 0 7 0;
#X connect 13 1 15 0;
#X connect 14 0 43 1;
#X connect 15 0 14 1;
#X connect 16 0 43 0;
#X connect 17 0 37 0;
#X connect 18 0 17 0;
#X connect 19 0 23 0;
#X connect 19 1 44 0;
#X connect 19 2 22 0;
#X connect 20 0 0 0;
#X connect 20 1 24 0;
#X connect 20 2 45 0;
#X connect 21 0 20 0;
#X connect 22 0 3 1;
#X connect 23 0 21 0;
#X connect 24 0 1 1;
#X connect 25 0 27 0;
#X connect 26 0 6 0;
#X connect 27 0 11 0;
#X connect 27 1 26 0;
#X connect 28 0 29 0;
#X connect 29 0 32 0;
#X connect 29 1 30 0;
#X connect 29 2 39 0;
#X connect 30 0 21 1;
#X connect 30 1 18 1;
#X connect 32 1 35 0;
#X connect 32 2 8 0;
#X connect 33 0 18 0;
#X connect 33 1 7 1;
#X connect 33 2 34 0;
#X connect 34 0 37 1;
#X connect 35 0 19 0;
#X connect 36 0 9 0;
#X connect 38 0 10 0;
#X connect 39 0 40 0;
#X connect 40 0 41 1;
#X connect 41 0 16 0;
#X connect 42 0 38 0;
#X connect 44 0 15 1;
#X connect 45 0 6 1;
#X restore 514 162 pd make-adder2;
#X obj 480 119 list split 3;
#N canvas 4 50 843 755 compare-lengths 0;
#X obj 161 252 list;
#X obj 161 273 t a b;
#X obj 161 324 text set \$0adder-1;
#X msg 188 295 0;
#N canvas 841 462 450 300 which-is-higher 0;
#X obj 44 7 inlet;
#X obj 168 103 text get \$0-adder2;
#X obj 38 103 text get \$0-adder1;
#X msg 38 71 0;
#X obj 168 124 route length;
#X obj 38 124 route length;
#X obj 38 225 >=, f 21;
#X obj 38 185 t f f;
#X obj 168 185 t f f;
#X obj 50 278 f;
#X obj 172 275 f;
#X obj 38 246 sel 1 0, f 19;
#X obj 89 326 outlet;
#X text 95 12 higher wins;
#X obj 180 7 inlet;
#X obj 38 43 t b f, f 8;
#X obj 180 28 t b f;
#X msg 180 49 0;
#X obj 168 145 *;
#X obj 38 145 *;
#X connect 0 0 15 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 5 0 19 0;
#X connect 6 0 11 0;
#X connect 7 0 6 0;
#X connect 7 1 9 1;
#X connect 8 0 6 1;
#X connect 8 1 10 1;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 9 0;
#X connect 11 1 10 0;
#X connect 14 0 16 0;
#X connect 15 0 3 0;
#X connect 15 1 19 1;
#X connect 16 0 17 0;
#X connect 16 1 18 1;
#X connect 17 0 1 0;
#X connect 18 0 8 0;
#X connect 19 0 7 0;
#X restore 161 210 pd which-is-higher;
#X obj 119 17 inlet;
#X obj 119 38 unpack 0 0 0 0 0 0, f 36;
#X msg 161 231 -1 length \$1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 3 0 2 1;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 1 4 0;
#X connect 6 4 4 1;
#X connect 7 0 0 0;
#X restore 339 116 pd compare-lengths;
#X text 489 93 make longer;
#X text 637 83 load them in;
#X text 852 98 clear the old;
#X text 304 83 get the longest length;
#X text 100 105 stitch them together;
#X obj 609 105 list split 3;
#X obj 609 130 unpack 0 0 0;
#X obj 643 157 unpack 0 0 0;
#X obj 93 68 t b b a a a b, f 108;
#N canvas 315 97 973 826 make-adder1 0;
#X obj 218 399 until;
#X obj 218 425 f;
#X obj 253 426 + 1;
#X obj 218 446 %, f 13;
#X text 390 533 add the loop length;
#X obj 459 559 + 1;
#X obj 347 558 f 0, f 13;
#X obj 347 619 *, f 34;
#X msg 380 257 0;
#X obj 380 322 list split 2;
#X obj 218 732 list split 1, f 20;
#X obj 218 650 t f f, f 24;
#X obj 218 753 +;
#X obj 347 578 t f f, f 28;
#X obj 375 721 +;
#X obj 512 658 *, f 21;
#X obj 218 797 list append;
#X obj 415 434 list prepend -1 length;
#X obj 415 413 * 4;
#X obj 218 222 t f f f, f 45;
#X obj 218 355 t a b b, f 23;
#X obj 218 302 * 4;
#X obj 485 252 - 1;
#X obj 218 274 - 1;
#X msg 260 397 0;
#X obj 218 467 + 1;
#X obj 347 531 sel 1;
#X obj 218 488 t f f, f 22;
#X obj 64 51 inlet what-sequence/trigger;
#X obj 64 88 unpack 0 0 0, f 104;
#X obj 281 256 t f f;
#X text 404 55 make current phrasse longer and stitich in the new phrase
;
#X obj 64 157 t b b b, f 52;
#X obj 413 357 t f f b, f 25;
#X msg 478 461 0;
#X obj 787 244 * 360;
#X obj 787 265 i;
#X obj 218 774 +, f 79;
#X obj 218 671 i;
#X obj 635 369 - 0;
#X msg 353 436 0;
#X obj 218 190 text size \$0-adder1;
#X obj 380 301 text get \$0-adder1;
#X obj 415 488 text set \$0-adder1;
#X obj 218 705 text get \$0-adder1;
#X obj 219 826 text set \$0-adder1, f 53;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 25 0;
#X connect 5 0 6 1;
#X connect 6 0 5 0;
#X connect 6 0 13 0;
#X connect 7 0 12 1;
#X connect 8 0 42 0;
#X connect 9 1 33 0;
#X connect 10 0 12 0;
#X connect 10 1 16 1;
#X connect 11 0 38 0;
#X connect 11 1 14 0;
#X connect 12 0 37 0;
#X connect 13 0 7 0;
#X connect 13 1 15 0;
#X connect 14 0 45 1;
#X connect 15 0 14 1;
#X connect 16 0 45 0;
#X connect 17 0 43 0;
#X connect 18 0 17 0;
#X connect 19 0 23 0;
#X connect 19 1 39 0;
#X connect 19 2 22 0;
#X connect 20 0 0 0;
#X connect 20 1 24 0;
#X connect 20 2 40 0;
#X connect 21 0 20 0;
#X connect 22 0 3 1;
#X connect 23 0 21 0;
#X connect 24 0 1 1;
#X connect 25 0 27 0;
#X connect 26 0 6 0;
#X connect 27 0 11 0;
#X connect 27 1 26 0;
#X connect 28 0 29 0;
#X connect 29 0 32 0;
#X connect 29 1 30 0;
#X connect 29 2 35 0;
#X connect 30 0 21 1;
#X connect 30 1 18 1;
#X connect 32 1 41 0;
#X connect 32 2 8 0;
#X connect 33 0 18 0;
#X connect 33 1 7 1;
#X connect 33 2 34 0;
#X connect 34 0 43 1;
#X connect 35 0 36 0;
#X connect 36 0 37 1;
#X connect 37 0 16 0;
#X connect 38 0 44 0;
#X connect 39 0 15 1;
#X connect 40 0 6 1;
#X connect 41 0 19 0;
#X connect 42 0 9 0;
#X connect 44 0 10 0;
#X restore 480 196 pd make-adder1;
#X msg 665 19 1 1 0 2 4 0.25;
#X msg 501 16 1 1 0.25 2 4 0.25;
#X connect 0 0 27 0;
#X connect 1 0 50 0;
#X connect 2 0 17 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 2 0;
#X connect 6 0 18 0;
#X connect 7 0 3 0;
#X connect 8 0 3 1;
#X connect 9 0 2 0;
#X connect 9 1 35 0;
#X connect 10 0 11 0;
#X connect 10 1 7 0;
#X connect 11 0 6 0;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 38 0;
#X connect 15 0 36 0;
#X connect 16 0 15 0;
#X connect 16 1 12 1;
#X connect 17 0 37 0;
#X connect 17 1 5 1;
#X connect 17 2 6 1;
#X connect 18 0 13 0;
#X connect 18 1 38 1;
#X connect 19 0 20 0;
#X connect 20 0 22 0;
#X connect 20 1 21 0;
#X connect 21 0 23 1;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 23 0 34 0;
#X connect 24 0 23 1;
#X connect 27 0 25 0;
#X connect 27 1 26 0;
#X connect 30 0 28 0;
#X connect 31 0 29 0;
#X connect 33 0 19 0;
#X connect 34 0 16 0;
#X connect 35 0 8 0;
#X connect 36 0 9 0;
#X connect 37 0 10 0;
#X connect 40 0 51 0;
#X connect 40 1 39 0;
#X connect 47 0 48 0;
#X connect 47 1 49 0;
#X connect 48 0 30 0;
#X connect 49 0 31 0;
#X connect 50 0 33 0;
#X connect 50 2 41 0;
#X connect 50 3 40 0;
#X connect 50 4 47 0;
#X connect 50 5 0 0;
#X connect 52 0 47 0;
#X connect 53 0 40 0;
#X restore 780 213 pd stitch-together;
#X obj 870 99 s \$0-rel-start;
#N canvas 4 50 847 849 trackk 0;
#X obj 61 237 v \$0-c-tick;
#X obj 34 95 r \$0-rel-start;
#X msg 198 254 2e+06;
#X obj 34 359 text set \$1-compose, f 24;
#X obj 34 125 v \$0-current;
#X text 420 43 what phrase was playing when this rec started and what
relative tick was it;
#X obj 34 307 pack;
#X obj 34 167 t a b b, f 10;
#X connect 0 0 6 1;
#X connect 1 0 4 0;
#X connect 2 0 3 1;
#X connect 4 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 6 0;
#X connect 7 1 0 0;
#X connect 7 2 2 0;
#X restore 57 311 pd trackk;
#X obj 491 124 s \$0-stop;
#X obj 371 238 text define \$1-compose;
#X obj 15 203 text tolist \$0-adder2;
#X obj 15 224 text fromlist;
#X obj 34 164 symbol;
#X msg 88 169 \; \$1 clear \;;
#X obj 15 133 t b a a;
#X obj 15 72 route load-it ticks current-play look bounce stop current-tick
reset stitch rel-start, f 159;
#N canvas 4 50 1133 798 round-length 0;
#X obj 306 232 t f f;
#X obj 333 256 sel 0;
#X obj 333 277 f, f 19;
#X obj 461 278 + 1;
#X obj 306 333 +, f 33;
#X msg 463 185 0;
#X obj 306 170 /;
#X obj 306 397 * 1800;
#X obj 306 420 / 360;
#X obj 306 481 i;
#X obj 463 99 inlet;
#X obj 331 702 outlet;
#X obj 306 512 * 360;
#X obj 306 543 / 1800;
#X obj 372 434 t a a;
#X obj 463 221 t f f f, f 13;
#X obj 375 619 > 0, f 39;
#X obj 463 120 t b b;
#X obj 306 594 t f f, f 12;
#X obj 306 647 list prepend;
#X obj 306 669 route 0 1;
#X obj 306 119 r \$1-looped;
#X obj 321 145 r \$1-leeng;
#X obj 370 413 r \$1-leeng;
#X obj 306 461 + 0.49999;
#X text 616 619 If bigger than previous loop length update length;
#X text 323 373 round to nearest beat length math;
#X text 91 175 sount the loops in floating points;
#X text 150 333 add the amount up (count);
#X obj 306 191 spigot 0;
#X obj 573 98 inlet;
#X msg 490 145 1;
#X obj 573 119 t b;
#X msg 573 140 0;
#X connect 0 0 4 0;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 2 1;
#X connect 4 0 7 0;
#X connect 5 0 15 0;
#X connect 6 0 29 0;
#X connect 7 0 8 0;
#X connect 8 0 24 0;
#X connect 9 0 12 0;
#X connect 10 0 17 0;
#X connect 12 0 13 0;
#X connect 13 0 18 0;
#X connect 14 0 7 1;
#X connect 14 1 13 1;
#X connect 15 0 2 1;
#X connect 15 1 4 1;
#X connect 15 2 16 1;
#X connect 16 0 19 1;
#X connect 17 0 5 0;
#X connect 17 1 31 0;
#X connect 18 0 19 0;
#X connect 18 1 16 0;
#X connect 19 0 20 0;
#X connect 20 1 11 0;
#X connect 21 0 6 0;
#X connect 22 0 6 1;
#X connect 23 0 14 0;
#X connect 24 0 9 0;
#X connect 29 0 0 0;
#X connect 30 0 32 0;
#X connect 31 0 29 1;
#X connect 32 0 33 0;
#X connect 33 0 29 1;
#X restore 305 418 pd round-length;
#X f 37;
#X connect 0 0 18 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 13 0 14 0;
#X connect 15 0 14 1;
#X connect 15 0 16 0;
#X connect 17 0 13 0;
#X connect 17 1 15 0;
#X connect 18 0 17 0;
#X connect 18 1 1 0;
#X connect 18 2 2 0;
#X connect 18 3 3 0;
#X connect 18 5 11 0;
#X connect 18 6 7 0;
#X connect 18 7 6 0;
#X connect 18 8 8 0;
#X connect 18 9 9 0;
