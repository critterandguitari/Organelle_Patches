#N canvas 311 139 1516 905 12;
#X obj 70 42 inlet;
#X obj 70 501 outlet;
#X obj 70 66 t b;
#X obj 70 90 v \$0-count;
#X obj 117 324 + 1;
#X obj 165 192 v \$0-dir;
#X obj 165 216 sel 0 1, f 16;
#X obj 165 240 i 1;
#X obj 219 241 i -1;
#X text 483 163 Arg1: step;
#X obj 165 296 * \$1;
#X obj 207 291 r \$0-step;
#X text 484 228 Arg3: up loop \, down loop \, up/down;
#X text 483 193 Arg2: Loop size;
#X obj 70 164 t a a b, f 14;
#X obj 338 36 inlet;
#X obj 338 84 s \$0-set;
#X obj 362 178 s \$0-loop-size;
#X obj 417 88 s \$0-step;
#X obj 338 60 route set loop step mode;
#X obj 490 93 s \$0-mode;
#X obj 816 504 r \$0-mode;
#X obj 735 701 v \$0-count;
#X obj 735 671 i 0;
#X obj 265 521 r \$0-mode;
#X obj 247 572 sel 0 1 2, f 34;
#X obj 247 697 v \$0-count;
#X obj 327 696 v \$0-count;
#X obj 560 697 v \$0-dir;
#X obj 560 729 == 0;
#X obj 560 761 v \$0-dir;
#X text 624 756 invert direction;
#X obj 247 636 i \$2;
#X obj 327 636 i \$2;
#X obj 281 601 r \$0-loop-size;
#X obj 416 697 v \$0-count;
#X obj 327 660 - 1;
#X obj 247 660 - 1;
#X obj 416 751 + \$1;
#X obj 441 723 r \$0-step;
#X obj 416 786 v \$0-count;
#X obj 416 644 t b b, f 21;
#X obj 1052 754 v \$0-dir;
#X obj 1052 783 == 0;
#X obj 1052 809 v \$0-dir;
#X text 1115 804 invert direction;
#X obj 923 754 v \$0-count;
#X obj 964 777 r \$0-step;
#X obj 923 803 v \$0-count;
#X obj 923 701 t b b;
#X obj 923 778 - \$1;
#X obj 247 419 moses 0;
#X obj 247 443 t b;
#X obj 562 441 moses 0;
#X text 610 313 greater than?;
#X obj 619 332 r \$0-loop-size;
#X obj 562 349 t a b;
#X obj 594 376 i \$2;
#X obj 562 566 v \$0-count;
#X obj 247 548 i \$3;
#X obj 366 137 max 1;
#X obj 735 534 list prepend \$3;
#X obj 735 558 list trim;
#X obj 735 597 route 0 1 2, f 34;
#X obj 735 621 t b;
#X obj 811 625 t b;
#X obj 70 119 max 0;
#X obj 891 628 sel 2;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 66 0;
#X connect 4 0 51 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 10 0;
#X connect 8 0 10 0;
#X connect 10 0 4 1;
#X connect 11 0 10 1;
#X connect 14 0 1 0;
#X connect 14 1 4 0;
#X connect 14 2 5 0;
#X connect 15 0 19 0;
#X connect 19 0 16 0;
#X connect 19 1 60 0;
#X connect 19 2 18 0;
#X connect 19 3 20 0;
#X connect 21 0 61 1;
#X connect 23 0 22 0;
#X connect 24 0 59 1;
#X connect 25 0 32 0;
#X connect 25 1 33 0;
#X connect 25 2 41 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 32 0 37 0;
#X connect 33 0 36 0;
#X connect 34 0 32 1;
#X connect 34 0 33 1;
#X connect 35 0 38 0;
#X connect 36 0 27 0;
#X connect 37 0 26 0;
#X connect 38 0 40 0;
#X connect 39 0 38 1;
#X connect 41 0 35 0;
#X connect 41 1 28 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 46 0 50 0;
#X connect 47 0 50 1;
#X connect 49 0 46 0;
#X connect 49 1 42 0;
#X connect 50 0 48 0;
#X connect 51 0 52 0;
#X connect 51 1 56 0;
#X connect 52 0 59 0;
#X connect 53 0 58 0;
#X connect 53 1 61 0;
#X connect 55 0 57 1;
#X connect 56 0 53 0;
#X connect 56 1 57 0;
#X connect 57 0 53 1;
#X connect 59 0 25 0;
#X connect 60 0 17 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 63 0 64 0;
#X connect 63 1 65 0;
#X connect 63 2 67 0;
#X connect 64 0 23 0;
#X connect 65 0 23 0;
#X connect 66 0 14 0;
#X connect 67 0 23 0;
#X connect 67 1 49 0;
