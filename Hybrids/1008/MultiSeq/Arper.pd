#N canvas 343 154 1573 890 10;
#X obj 162 293 unpack 0 0;
#X obj 162 353 pack 0 0 0;
#X obj 162 414 unpack, f 54;
#N canvas 135 50 826 891 array-sort 0;
#X obj 263 111 until;
#X obj 263 153 f;
#X obj 296 154 + 1, f 4;
#X msg 321 91 0, f 2;
#X obj 312 267 f;
#X obj 264 232 t f b;
#X obj 262 182 t f f;
#X obj 249 452 f;
#X obj 306 399 sel 1;
#X obj 214 485 f;
#X obj 173 537 f;
#X obj 213 553 t b b;
#X obj 333 550 t b f;
#X obj 250 580 f;
#X obj 343 -90 until;
#X obj 344 -46 f;
#X obj 376 -47 + 1, f 4;
#X msg 401 -110 0, f 2;
#X obj 345 -139 t b b;
#X obj 329 -11 t b f;
#X obj 252 48 t b b b b;
#X msg 324 575 0, f 2;
#X msg 357 89 0;
#X obj 217 333 expr if ($f1 > $f2 \, $f1 \, $f2) \; if ($f1 > $f2 \,
1 \, 0);
#X msg 344 -115 8, f 2;
#X msg 263 83 8, f 2;
#X text 419 137 sort array a into b. a gets clobbered in the process
probably a much better way to do this ...;
#X obj 345 -174 r \$0-reorder;
#X obj 264 210 tabread \$0-notes-squashed;
#X obj 324 611 tabwrite \$0-notes-squashed;
#X obj 139 648 tabwrite \$0-notes-decreasing;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 23 1;
#X connect 5 0 23 0;
#X connect 5 1 4 0;
#X connect 6 0 28 0;
#X connect 6 1 7 1;
#X connect 7 0 9 1;
#X connect 8 0 7 0;
#X connect 9 0 11 0;
#X connect 9 0 12 0;
#X connect 10 0 30 0;
#X connect 11 0 10 0;
#X connect 11 1 13 0;
#X connect 12 0 21 0;
#X connect 12 1 29 1;
#X connect 13 0 30 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 0 19 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 24 0;
#X connect 18 1 17 0;
#X connect 19 0 20 0;
#X connect 19 1 13 1;
#X connect 20 0 9 0;
#X connect 20 1 25 0;
#X connect 20 2 3 0;
#X connect 20 3 22 0;
#X connect 21 0 29 0;
#X connect 22 0 4 1;
#X connect 23 0 4 1;
#X connect 23 0 10 1;
#X connect 23 1 8 0;
#X connect 24 0 14 0;
#X connect 25 0 0 0;
#X connect 27 0 18 0;
#X connect 28 0 5 0;
#X restore 767 311 pd array-sort;
#X text 1127 148 array1 is raw data from poly (notes with 0 velocity
are given 0 pitch);
#X text 1082 312 here are the notes sorted...;
#X floatatom 533 682 5 0 0 0 - - -, f 5;
#N canvas 168 50 726 731 increasing 0;
#X obj 156 260 until;
#X obj 157 304 f;
#X obj 189 303 + 1, f 4;
#X msg 214 240 0, f 2;
#X obj 155 236 f 0;
#X obj 156 357 - 0;
#X obj 157 408 abs;
#X obj 157 326 t f f;
#X obj 266 471 f;
#X obj 156 469 t f b;
#X obj 156 379 + 1;
#X obj 416 331 until;
#X obj 416 373 f;
#X obj 449 374 + 1, f 4;
#X msg 474 311 0, f 2;
#X obj 416 276 t b b;
#X obj 424 398 t b f;
#X msg 415 423 0, f 2;
#X msg 416 303 8, f 2;
#X obj 155 197 t b b b;
#X obj 153 67 inlet;
#X obj 321 197 r \$0-num-down;
#X obj 156 437 tabread \$0-notes-decreasing;
#X obj 152 508 tabwrite \$0-notes-increasing;
#X obj 413 448 tabwrite \$0-notes-increasing;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 10 0;
#X connect 6 0 22 0;
#X connect 7 0 5 0;
#X connect 7 1 8 1;
#X connect 8 0 23 1;
#X connect 9 0 23 0;
#X connect 9 1 8 0;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 0 16 0;
#X connect 13 0 12 1;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 15 1 14 0;
#X connect 16 0 17 0;
#X connect 16 1 24 1;
#X connect 17 0 24 0;
#X connect 18 0 11 0;
#X connect 19 0 4 0;
#X connect 19 1 3 0;
#X connect 19 2 15 0;
#X connect 20 0 19 0;
#X connect 21 0 4 1;
#X connect 21 0 5 1;
#X connect 22 0 9 0;
#X restore 767 407 pd increasing;
#X obj 162 318 poly 8 1, f 10;
#N canvas 12 50 588 574 format_for_array 0;
#X obj 111 44 inlet;
#X obj 102 128 f;
#X obj 144 151 sel 0;
#X msg 121 188 0;
#X obj 167 181 t b b;
#X obj 137 126 f;
#X obj 79 268 t f b;
#X obj 75 336 pack 0 0;
#X obj 85 75 unpack 0 0 0;
#X obj 41 132 t b f;
#X obj 117 304 f;
#X obj 78 389 outlet;
#X obj 133 274 - 1;
#X text 169 280 array index starts at 0 \, poly index starts at 1;
#X text 223 150 if the velocity is > 0 \, outputs note number. If =
0 \, it outputs 0 for note number;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 6 1 10 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 8 1 1 1;
#X connect 8 2 5 1;
#X connect 9 0 5 0;
#X connect 9 1 12 0;
#X connect 10 0 7 1;
#X connect 12 0 10 1;
#X restore 162 382 pd format_for_array;
#N canvas 8 50 1000 647 array-copy 0;
#X obj 228 194 until;
#X obj 228 236 f;
#X obj 261 237 + 1, f 4;
#X msg 286 174 0, f 2;
#X obj 426 272 until;
#X obj 426 314 f;
#X obj 459 315 + 1, f 4;
#X msg 484 252 0, f 2;
#X obj 426 217 t b b;
#X obj 426 339 t b f;
#X msg 426 364 0, f 2;
#X obj 228 121 t b b b;
#X msg 228 166 8, f 2;
#X msg 426 244 8, f 2;
#X text 324 97 this removes 0 elements (or actually just moves the
following elements over 1 place);
#X text 528 296 first zero out the destination array;
#X obj 228 258 t f f;
#X obj 228 297 tabread \$0-notes-from-poly;
#X obj 426 385 tabwrite \$0-notes-squashed;
#X obj 228 410 tabwrite \$0-notes-squashed;
#X obj 228 97 b;
#X obj 228 75 r \$0-copy;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 16 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 13 0;
#X connect 8 1 7 0;
#X connect 9 0 10 0;
#X connect 9 1 18 1;
#X connect 10 0 18 0;
#X connect 11 0 12 0;
#X connect 11 1 3 0;
#X connect 11 2 8 0;
#X connect 12 0 0 0;
#X connect 13 0 4 0;
#X connect 16 0 17 0;
#X connect 16 1 19 1;
#X connect 17 0 19 0;
#X connect 20 0 11 0;
#X connect 21 0 20 0;
#X restore 764 225 pd array-copy;
#X text 1095 406 then increasing;
#X text 770 482 then play them!;
#N canvas 454 50 1358 931 arp 0;
#N canvas 22 50 1242 820 double-double 0;
#X obj 307 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 422 282 5 0 0 0 - - -, f 5;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 306 659 - 12;
#X obj 378 338 sel 0;
#X obj 396 437 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 679 299 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 794 236 5 0 0 0 - - -, f 5;
#X floatatom 856 448 5 0 0 0 - - -, f 5;
#X obj 678 577 + 0;
#X obj 857 467 * 12;
#X obj 670 258 spigot;
#X obj 671 636 - 12;
#X obj 750 292 sel 0;
#X obj 768 391 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 794 255 t f f;
#X msg 878 416 0;
#X obj 619 421 % 1;
#X obj 487 756 outlet;
#X obj 327 176 spigot 0;
#X obj 592 158 spigot 0;
#X obj 459 91 inlet;
#X obj 255 394 counter-up 0;
#X obj 480 427 counter-up 2;
#X obj 627 348 counter-up 0;
#X obj 852 385 counter-up 2;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 234 516 tabread \$0-notes-increasing;
#X obj 606 470 tabread \$0-notes-increasing;
#X obj 792 209 r \$0-num-down;
#X obj 782 179 r \$0-num-down;
#X obj 268 79 r \$0-sixteenths;
#X obj 624 67 r \$0-eighths;
#X connect 0 0 28 0;
#X connect 1 0 9 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 0 0;
#X connect 6 0 24 0;
#X connect 7 0 10 0;
#X connect 7 0 28 1;
#X connect 7 0 29 1;
#X connect 8 0 29 0;
#X connect 9 0 7 0;
#X connect 9 0 11 1;
#X connect 9 1 28 2;
#X connect 10 0 2 0;
#X connect 11 0 34 0;
#X connect 12 0 30 0;
#X connect 13 0 21 0;
#X connect 14 0 16 0;
#X connect 15 0 18 0;
#X connect 16 0 15 1;
#X connect 17 0 12 0;
#X connect 18 0 24 0;
#X connect 19 0 22 0;
#X connect 19 0 30 1;
#X connect 19 0 31 1;
#X connect 20 0 31 0;
#X connect 21 0 19 0;
#X connect 21 0 23 1;
#X connect 21 1 30 2;
#X connect 22 0 14 0;
#X connect 23 0 35 0;
#X connect 25 0 5 0;
#X connect 26 0 17 0;
#X connect 27 0 25 1;
#X connect 27 0 26 1;
#X connect 28 0 11 0;
#X connect 28 1 8 0;
#X connect 29 0 2 0;
#X connect 30 0 23 0;
#X connect 30 1 20 0;
#X connect 31 0 14 0;
#X connect 32 0 5 1;
#X connect 33 0 1 0;
#X connect 34 0 3 0;
#X connect 35 0 15 0;
#X connect 36 0 13 0;
#X connect 37 0 17 1;
#X connect 38 0 25 0;
#X connect 39 0 26 0;
#X restore 657 629 pd double-double;
#X obj 283 276 sel 0 1 2 3 4 5 6 7, f 69;
#X obj 283 177 t f b;
#X msg 357 567 0;
#X msg 280 308 1;
#X msg 351 306 1;
#X msg 413 305 1;
#X msg 471 303 1;
#N canvas 25 50 1242 820 double-randoms 0;
#X floatatom 451 564 5 0 0 0 - - -, f 5;
#X obj 247 642 + 0;
#X obj 451 583 * 12;
#X obj 255 324 spigot;
#X obj 247 678 - 12;
#X obj 420 330 sel 0;
#X obj 420 301 t f f;
#X msg 473 532 0;
#X obj 247 467 % 1;
#X floatatom 822 528 5 0 0 0 - - -, f 5;
#X obj 606 617 + 0;
#X obj 822 547 * 12;
#X obj 627 258 spigot;
#X obj 606 676 - 12;
#X obj 750 292 sel 0;
#X obj 721 246 t f f;
#X msg 844 496 0;
#X obj 606 441 % 1;
#X obj 487 756 outlet;
#X obj 255 185 spigot 0;
#X obj 627 158 spigot 0;
#X obj 459 91 inlet;
#X obj 451 495 random 3;
#X obj 255 394 random;
#X obj 627 348 counter-up 0;
#X obj 822 465 counter-up 2;
#X obj 606 470 tabread \$0-notes-increasing;
#X obj 247 496 tabread \$0-notes-increasing;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 721 220 r \$0-num-down;
#X obj 666 195 r \$0-num-down;
#X obj 255 88 r \$0-sixteenths;
#X obj 627 97 r \$0-eighths;
#X obj 451 452 b;
#X obj 255 351 b;
#X obj 627 280 b;
#X obj 708 388 b;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 35 0;
#X connect 4 0 18 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 6 0 8 1;
#X connect 7 0 0 0;
#X connect 8 0 27 0;
#X connect 9 0 11 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 36 0;
#X connect 13 0 18 0;
#X connect 14 0 16 0;
#X connect 14 0 24 1;
#X connect 14 0 25 1;
#X connect 15 0 14 0;
#X connect 15 0 17 1;
#X connect 15 1 24 2;
#X connect 16 0 9 0;
#X connect 17 0 26 0;
#X connect 19 0 3 0;
#X connect 20 0 12 0;
#X connect 21 0 19 1;
#X connect 21 0 20 1;
#X connect 22 0 0 0;
#X connect 23 0 8 0;
#X connect 24 0 17 0;
#X connect 24 1 37 0;
#X connect 25 0 9 0;
#X connect 26 0 10 0;
#X connect 27 0 1 0;
#X connect 28 0 3 1;
#X connect 29 0 23 1;
#X connect 29 0 6 0;
#X connect 30 0 15 0;
#X connect 31 0 12 1;
#X connect 32 0 19 0;
#X connect 33 0 20 0;
#X connect 34 0 22 0;
#X connect 35 0 34 0;
#X connect 35 0 23 0;
#X connect 36 0 24 0;
#X connect 37 0 25 0;
#X restore 526 631 pd double-randoms;
#X obj 283 129 i;
#X obj 322 107 loadbang;
#X msg 322 129 0;
#N canvas 22 50 1242 820 singleup4 0;
#X obj 307 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 422 282 5 0 0 0 - - -, f 5;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 396 437 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 327 176 spigot 0;
#X obj 459 91 inlet;
#X obj 307 659 - 24;
#X obj 255 394 counter-up 0;
#X obj 480 427 counter-up 4;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 234 516 tabread \$0-notes-increasing;
#X obj 268 79 r \$0-sixteenths;
#X connect 0 0 15 0;
#X connect 1 0 8 0;
#X connect 2 0 4 0;
#X connect 3 0 14 0;
#X connect 4 0 3 1;
#X connect 5 0 0 0;
#X connect 6 0 9 0;
#X connect 6 0 15 1;
#X connect 6 0 16 1;
#X connect 7 0 16 0;
#X connect 8 0 6 0;
#X connect 8 0 10 1;
#X connect 8 1 15 2;
#X connect 9 0 2 0;
#X connect 10 0 19 0;
#X connect 12 0 5 0;
#X connect 13 0 12 1;
#X connect 14 0 11 0;
#X connect 15 0 10 0;
#X connect 15 1 7 0;
#X connect 16 0 2 0;
#X connect 17 0 5 1;
#X connect 18 0 1 0;
#X connect 19 0 3 0;
#X connect 20 0 12 0;
#X restore 310 633 pd singleup4;
#N canvas 21 50 1242 820 singledown4 0;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 327 176 spigot 0;
#X obj 459 91 inlet;
#X obj 307 659 - 24;
#X obj 255 394 counter-down 0;
#X obj 480 427 counter-down 4;
#X obj 234 516 tabread \$0-notes-increasing;
#X obj 420 255 r \$0-num-down;
#X obj 410 225 r \$0-num-down;
#X obj 268 79 r \$0-sixteenths;
#X obj 298 326 b;
#X obj 350 423 b;
#X connect 0 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 1 1;
#X connect 3 0 18 0;
#X connect 4 0 6 0;
#X connect 4 0 12 1;
#X connect 4 0 13 1;
#X connect 5 0 4 0;
#X connect 5 0 7 1;
#X connect 5 1 12 2;
#X connect 6 0 0 0;
#X connect 7 0 14 0;
#X connect 9 0 3 0;
#X connect 10 0 9 1;
#X connect 11 0 8 0;
#X connect 12 0 7 0;
#X connect 12 1 19 0;
#X connect 13 0 0 0;
#X connect 14 0 1 0;
#X connect 15 0 5 0;
#X connect 16 0 3 1;
#X connect 17 0 9 0;
#X connect 18 0 12 0;
#X connect 19 0 13 0;
#X restore 413 631 pd singledown4;
#X msg 553 305 1;
#X msg 611 305 1;
#X msg 659 305 1;
#X msg 714 305 1;
#N canvas 28 50 1242 820 singleup2 0;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 327 176 spigot 0;
#X obj 459 91 inlet;
#X obj 307 659 - 24;
#X obj 480 427 counter-up 2;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 389 474 b;
#X obj 298 326 b;
#X obj 255 394 counter-up 0;
#X obj 234 516 tabread \$0-notes-increasing;
#X obj 268 79 r \$0-sixteenths;
#X connect 0 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 1 1;
#X connect 3 0 16 0;
#X connect 4 0 6 0;
#X connect 4 0 12 1;
#X connect 4 0 17 1;
#X connect 5 0 4 0;
#X connect 5 0 7 1;
#X connect 5 1 17 2;
#X connect 6 0 0 0;
#X connect 7 0 18 0;
#X connect 9 0 3 0;
#X connect 10 0 9 1;
#X connect 11 0 8 0;
#X connect 12 0 0 0;
#X connect 13 0 3 1;
#X connect 14 0 5 0;
#X connect 15 0 12 0;
#X connect 16 0 17 0;
#X connect 17 0 7 0;
#X connect 17 1 15 0;
#X connect 18 0 1 0;
#X connect 19 0 9 0;
#X restore 107 633 pd singleup2;
#N canvas 24 50 1242 820 singledown2 0;
#X obj 271 348 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 327 176 spigot 0;
#X obj 459 91 inlet;
#X obj 307 659 - 24;
#X obj 255 394 counter-down 0;
#X obj 480 427 counter-down 2;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 234 516 tabread \$0-notes-increasing;
#X obj 268 79 r \$0-sixteenths;
#X obj 369 480 b;
#X connect 0 0 13 0;
#X connect 1 0 3 0;
#X connect 2 0 12 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 5 0 7 0;
#X connect 5 0 13 1;
#X connect 5 0 14 1;
#X connect 6 0 5 0;
#X connect 6 0 8 1;
#X connect 6 1 13 2;
#X connect 7 0 1 0;
#X connect 8 0 17 0;
#X connect 10 0 4 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 13 0 8 0;
#X connect 13 1 19 0;
#X connect 14 0 1 0;
#X connect 15 0 4 1;
#X connect 16 0 6 0;
#X connect 17 0 2 0;
#X connect 18 0 10 0;
#X connect 19 0 14 0;
#X restore 202 634 pd singledown2;
#N canvas 31 50 1242 820 updown2 0;
#X obj 338 565 outlet;
#N canvas 36 50 1242 820 singleup2 0;
#X obj 307 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 396 437 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 307 659 - 24;
#X obj 631 661 outlet;
#X obj 225 164 inlet;
#X obj 255 394 counter-up 0;
#X obj 480 427 counter-up 2;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 234 516 tabread \$0-notes-increasing;
#X connect 0 0 14 0;
#X connect 1 0 3 0;
#X connect 2 0 11 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X connect 5 0 14 1;
#X connect 5 0 15 1;
#X connect 6 0 15 0;
#X connect 7 0 5 0;
#X connect 7 0 9 1;
#X connect 7 1 14 2;
#X connect 8 0 1 0;
#X connect 9 0 18 0;
#X connect 11 0 10 0;
#X connect 13 0 4 0;
#X connect 14 0 9 0;
#X connect 14 1 6 0;
#X connect 15 0 1 0;
#X connect 15 1 12 0;
#X connect 16 0 4 1;
#X connect 17 0 7 0;
#X connect 18 0 2 0;
#X restore 276 400 pd singleup2;
#X obj 301 151 spigot 0;
#X obj 433 66 inlet;
#N canvas 27 50 1242 820 singledown2 0;
#X obj 271 348 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 422 282 5 0 0 0 - - -, f 5;
#X floatatom 484 494 5 0 0 0 - - -, f 5;
#X obj 306 623 + 0;
#X obj 485 513 * 12;
#X obj 298 304 spigot;
#X obj 378 338 sel 0;
#X obj 396 437 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 422 301 t f f;
#X msg 506 462 0;
#X obj 247 467 % 1;
#X obj 487 756 outlet;
#X obj 307 659 - 24;
#X obj 255 394 counter-down 0;
#X obj 480 427 counter-down 2;
#X obj 678 572 outlet;
#X obj 327 176 inlet;
#X obj 410 225 r \$0-num-down;
#X obj 420 255 r \$0-num-down;
#X obj 234 517 tabread \$0-notes-increasing;
#X connect 0 0 13 0;
#X connect 1 0 8 0;
#X connect 2 0 4 0;
#X connect 3 0 12 0;
#X connect 4 0 3 1;
#X connect 5 0 0 0;
#X connect 6 0 9 0;
#X connect 6 0 13 1;
#X connect 6 0 14 1;
#X connect 7 0 14 0;
#X connect 8 0 6 0;
#X connect 8 0 10 1;
#X connect 8 1 13 2;
#X connect 9 0 2 0;
#X connect 10 0 19 0;
#X connect 12 0 11 0;
#X connect 13 0 10 0;
#X connect 13 1 7 0;
#X connect 14 0 2 0;
#X connect 14 1 15 0;
#X connect 16 0 5 0;
#X connect 17 0 5 1;
#X connect 18 0 1 0;
#X connect 19 0 3 0;
#X restore 411 403 pd singledown2;
#X obj 462 194 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 463 133 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 463 153 ==;
#X obj 314 243 spigot 0;
#X obj 230 240 spigot 1;
#X obj 544 93 sel 0;
#X msg 544 115 1;
#X obj 242 54 r \$0-sixteenths;
#X obj 544 71 r \$0-num-down;
#X connect 1 0 0 0;
#X connect 1 1 6 0;
#X connect 2 0 9 0;
#X connect 2 0 8 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 4 1 6 0;
#X connect 5 0 8 1;
#X connect 6 0 7 0;
#X connect 6 0 9 1;
#X connect 7 0 5 0;
#X connect 8 0 4 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 6 0;
#X connect 12 0 2 0;
#X connect 13 0 10 0;
#X restore 782 629 pd updown2;
#X text 28 13 Controls Arpeggiation;
#X text 265 46 Sets the Pattern;
#X obj 567 132 i;
#X obj 567 79 * 2000;
#X obj 567 101 + 20;
#X obj 327 891 s arper-\$1-notes-out;
#X obj 327 758 pack 0 0, f 16;
#X obj 327 706 f;
#X obj 327 731 makenote 100 100;
#X msg 1007 370 All;
#X msg 892 417 Up Down;
#X msg 857 388 Double Double;
#X msg 810 356 Double Randoms;
#X msg 797 482 Down 4 Octave;
#X msg 781 429 Up 4 Octave;
#X msg 974 462 Down 2 Octave;
#X msg 739 511 Up 2 Octave;
#X obj 896 591 s arper-\$1-pattern-label;
#X obj 283 85 r arper-\$1-pattern;
#X obj 567 58 r arper-\$1-length;
#X obj 679 177 s \$0-decay;
#X obj 436 704 r \$0-decay;
#N canvas 601 164 450 300 sixteenths 0;
#X obj 58 168 outlet;
#X obj 76 86 sel 0 6 12 18;
#X obj 73 47 r master-ticks;
#X connect 1 0 0 0;
#X connect 1 1 0 0;
#X connect 1 2 0 0;
#X connect 1 3 0 0;
#X connect 2 0 1 0;
#X restore 38 116 pd sixteenths;
#N canvas 669 205 450 300 eighths 0;
#X obj 75 120 outlet;
#X obj 76 86 sel 0 12;
#X obj 73 41 r master-ticks;
#X connect 1 0 0 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X restore 38 60 pd eighths;
#X obj 38 89 s \$0-eighths;
#X obj 38 143 s \$0-sixteenths;
#X obj 327 864 spigot;
#X msg 366 809 0;
#X msg 402 833 1;
#X obj 366 787 r arper-\$1-disable;
#X obj 400 809 r arper-\$1-enable;
#X obj 567 204 s arper-\$1-length-label;
#X msg 567 181 Length: \$1 ms;
#X obj 283 107 * 7;
#X connect 0 0 28 0;
#X connect 1 0 4 0;
#X connect 1 0 37 0;
#X connect 1 1 5 0;
#X connect 1 1 36 0;
#X connect 1 2 6 0;
#X connect 1 2 35 0;
#X connect 1 3 7 0;
#X connect 1 3 34 0;
#X connect 1 4 14 0;
#X connect 1 4 33 0;
#X connect 1 5 15 0;
#X connect 1 5 32 0;
#X connect 1 6 16 0;
#X connect 1 6 31 0;
#X connect 1 7 17 0;
#X connect 1 7 30 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 3 0 12 0;
#X connect 3 0 13 0;
#X connect 3 0 8 0;
#X connect 3 0 0 0;
#X connect 3 0 18 0;
#X connect 3 0 19 0;
#X connect 3 0 20 0;
#X connect 4 0 18 0;
#X connect 5 0 19 0;
#X connect 6 0 12 0;
#X connect 7 0 13 0;
#X connect 8 0 28 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X connect 11 0 2 0;
#X connect 12 0 28 0;
#X connect 13 0 28 0;
#X connect 14 0 8 0;
#X connect 15 0 0 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 17 0 19 0;
#X connect 17 0 13 0;
#X connect 17 0 20 0;
#X connect 17 0 8 0;
#X connect 18 0 28 0;
#X connect 19 0 28 0;
#X connect 20 0 28 0;
#X connect 23 0 53 0;
#X connect 23 0 41 0;
#X connect 24 0 25 0;
#X connect 25 0 23 0;
#X connect 27 0 47 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 29 1 27 1;
#X connect 30 0 38 0;
#X connect 31 0 38 0;
#X connect 32 0 38 0;
#X connect 33 0 38 0;
#X connect 34 0 38 0;
#X connect 35 0 38 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 39 0 54 0;
#X connect 40 0 24 0;
#X connect 42 0 29 2;
#X connect 43 0 46 0;
#X connect 44 0 45 0;
#X connect 47 0 26 0;
#X connect 48 0 47 1;
#X connect 49 0 47 1;
#X connect 50 0 48 0;
#X connect 51 0 49 0;
#X connect 53 0 52 0;
#X connect 54 0 9 0;
#X restore 771 512 pd arp;
#X text 1112 222 array squash pulls out 0 notes. this array gets clobbered
by the sorting function so it always looks blank;
#X obj 162 443 t b b b b f, f 54;
#N canvas 640 236 533 527 countnotes 0;
#X obj 104 289 > 0;
#X obj 104 316 sel 1;
#X obj 158 352 + 1, f 4;
#X obj 110 353 f 0;
#X obj 141 130 until;
#X obj 142 174 f;
#X obj 174 173 + 1, f 4;
#X msg 319 198 0, f 2;
#X msg 142 105 8, f 2;
#X obj 89 395 f 0;
#X obj 89 458 outlet;
#X obj 83 200 t f f;
#X obj 36 244 sel 7;
#X obj 143 81 t b b;
#X obj 143 35 r \$0-countem;
#X obj 106 234 tabread \$0-notes-from-poly;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 2 0 9 1;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 7 0 3 1;
#X connect 7 0 9 1;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 11 1 15 0;
#X connect 12 0 9 0;
#X connect 13 0 8 0;
#X connect 13 1 7 0;
#X connect 14 0 13 0;
#X connect 15 0 0 0;
#X restore 533 656 pd countnotes;
#X obj 370 224 sel 1;
#N canvas 831 155 886 799 latch 0;
#X obj 263 252 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 123 368 spigot 1;
#X obj 43 368 spigot 0;
#X obj 263 278 == 0;
#X obj 263 368 sel 0 1;
#X obj 263 134 inlet;
#X obj 43 626 outlet;
#X obj 43 106 inlet;
#X text 311 135 bang enable / disables latch;
#X text 44 53 incoming notes get sent through latch if enabled \, or
directly to output if disabled;
#X text 323 367 Update Screen & LED;
#X msg 289 534 \; led 2;
#X obj 448 672 s arper-\$1-knob5-label;
#X msg 298 408 \; led 0;
#X msg 286 458 Aux: Latch OFF \;;
#X msg 263 579 Aux: Latch ON \;;
#X obj 309 316 b;
#X obj 43 421 latch-notes;
#X obj 263 160 t f b, f 7;
#X connect 0 0 3 0;
#X connect 0 0 2 1;
#X connect 1 0 6 0;
#X connect 2 0 17 0;
#X connect 3 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 15 0;
#X connect 4 0 11 0;
#X connect 4 1 14 0;
#X connect 4 1 13 0;
#X connect 5 0 18 0;
#X connect 7 0 2 0;
#X connect 7 0 1 0;
#X connect 14 0 12 0;
#X connect 15 0 12 0;
#X connect 16 0 17 1;
#X connect 17 0 6 0;
#X connect 18 0 0 0;
#X connect 18 1 16 0;
#X restore 162 269 pd latch;
#X obj 162 105 r arper-\$1-notes-in;
#X obj 370 98 r arper-\$1-aux-in;
#X obj 162 474 s \$0-others;
#X obj 255 474 s \$0-reorder;
#X obj 349 474 s \$0-copy;
#X obj 443 473 s \$0-countem;
#X obj 537 473 tabwrite \$0-notes-from-poly;
#X obj 533 708 s \$0-num-down;
#X obj 767 377 r \$0-others;
#X text 106 40 notes are put into an array and then sorted in increasing
/ decreasing order. the 'arp' subpatch then counts through the arrays
in various patterns. This is the Module conversion of Arpeggio Synth.
;
#X obj 69 723 s led;
#X msg 69 700 0;
#X obj 37 646 sel 0 1, f 16;
#X obj 37 668 t b b;
#X obj 37 620 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 87 591 r mseq-\$1-kill-switch;
#X obj 162 204 spigot;
#X msg 201 149 0;
#X msg 237 173 1;
#X obj 37 569 r arper-\$1-switch;
#X obj 91 673 s arper-\$1-enable;
#X obj 37 746 s arper-\$1-disable;
#X obj 201 127 r arper-\$1-disable;
#X obj 237 151 r arper-\$1-enable;
#X obj 80 237 bag;
#X msg 80 187 flush;
#X obj 370 202 spigot;
#X msg 409 147 0;
#X msg 445 171 1;
#X obj 409 125 r arper-\$1-disable;
#X obj 445 149 r arper-\$1-enable;
#X obj 80 259 pack 0 0;
#X msg 273 173 0;
#X msg 307 670 x;
#X obj 307 647 r arper-\$1-x1;
#X obj 307 692 s arper-\$1-x1-label;
#X obj 890 161 table \$0-notes-from-poly 8;
#X obj 894 225 table \$0-notes-squashed 8;
#X obj 879 312 table \$0-notes-decreasing 8;
#X obj 896 407 table \$0-notes-increasing 8;
#X obj 215 246 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 8 0;
#X connect 0 1 8 1;
#X connect 1 0 9 0;
#X connect 2 0 15 0;
#X connect 2 1 25 1;
#X connect 6 0 26 0;
#X connect 8 0 1 0;
#X connect 8 1 1 1;
#X connect 8 2 1 2;
#X connect 9 0 2 0;
#X connect 15 0 21 0;
#X connect 15 1 22 0;
#X connect 15 2 23 0;
#X connect 15 3 24 0;
#X connect 15 4 25 0;
#X connect 16 0 6 0;
#X connect 17 0 59 0;
#X connect 18 0 0 0;
#X connect 19 0 35 0;
#X connect 20 0 45 0;
#X connect 27 0 7 0;
#X connect 30 0 29 0;
#X connect 31 0 32 0;
#X connect 31 1 39 0;
#X connect 32 0 40 0;
#X connect 32 1 30 0;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 35 0 18 0;
#X connect 35 0 43 0;
#X connect 36 0 35 1;
#X connect 36 0 59 0;
#X connect 37 0 35 1;
#X connect 38 0 33 0;
#X connect 41 0 36 0;
#X connect 41 0 44 0;
#X connect 42 0 37 0;
#X connect 42 0 51 0;
#X connect 43 0 50 0;
#X connect 44 0 43 0;
#X connect 45 0 17 0;
#X connect 46 0 45 1;
#X connect 47 0 45 1;
#X connect 48 0 46 0;
#X connect 49 0 47 0;
#X connect 50 0 0 0;
#X connect 51 0 59 0;
#X connect 52 0 54 0;
#X connect 53 0 52 0;
#X connect 59 0 18 1;
