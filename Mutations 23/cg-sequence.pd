#N canvas 131 50 895 512 10;
#N canvas 11 50 1905 999 seq2 0;
#X msg 246 92 Sequencer: Playing;
#X msg 278 116 Sequencer: Stopped;
#X msg 306 140 Sequencer: Enabled;
#X msg 326 165 Sequencer: Recording;
#X text 24 144 Controls State With Aux Button;
#N canvas 13 50 1006 722 midi-control 0;
#X obj 95 121 midirealtimein;
#X obj 95 177 sel 248 250 251 252, f 22;
#X obj 260 239 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 260 355 t b b;
#X msg 292 390 0;
#X obj 369 364 t b b;
#X msg 401 399 0;
#X obj 482 368 t b b b;
#X msg 541 395 1;
#X obj 260 309 sel 1 2 3, f 37;
#X obj 69 243 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 69 313 sel 0 1 2 3, f 12;
#X text 78 509 states are: 0 = stopped \, 1 = playing \, 2 = rec enabled
\, 3 = recording, f 70;
#X obj 69 351 t b b;
#X msg 101 386 1;
#X text 262 143 MIDI 248 = clock \; 250 = start \; 251 = continue \;
252 = stop, f 18;
#X text 23 15 This subpatch handles MIDI commands for starting/stopping
sequencer., f 69;
#X obj 260 456 s seq2-\$1-stop;
#X obj 369 466 s seq2-\$1-stop;
#X obj 482 470 s seq2-\$1-start;
#X obj 505 442 s seq2-\$1-end_seq;
#X obj 541 417 v seq2-\$1-state;
#X obj 401 421 v seq2-\$1-state;
#X obj 292 412 v seq2-\$1-state;
#X obj 101 408 v seq2-\$1-state;
#X obj 69 461 s seq2-\$1-start;
#X obj 260 272 v seq2-\$1-state;
#X obj 69 276 v seq2-\$1-state;
#X connect 0 0 1 0;
#X connect 1 1 10 0;
#X connect 1 2 10 0;
#X connect 1 3 2 0;
#X connect 2 0 26 0;
#X connect 3 0 17 0;
#X connect 3 1 4 0;
#X connect 4 0 23 0;
#X connect 5 0 18 0;
#X connect 5 1 6 0;
#X connect 6 0 22 0;
#X connect 7 0 19 0;
#X connect 7 1 20 0;
#X connect 7 2 8 0;
#X connect 8 0 21 0;
#X connect 9 0 3 0;
#X connect 9 1 5 0;
#X connect 9 2 7 0;
#X connect 10 0 27 0;
#X connect 11 0 13 0;
#X connect 13 0 25 0;
#X connect 13 1 14 0;
#X connect 14 0 24 0;
#X connect 26 0 9 0;
#X connect 27 0 11 0;
#X restore 33 94 pd midi-control;
#X obj 286 340 loadbang;
#X obj 286 377 t b b;
#X msg 318 402 read ./sequence.txt;
#N canvas 6 50 450 300 midi-out 0;
#X obj 114 172 noteout 1;
#X obj 114 132 unpack;
#X obj 195 104 r seq2-\$1-zero_notes;
#X obj 99 80 r seq2-\$1-notes_seq;
#X obj 211 137 r midiCh;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 0 2;
#X restore 32 58 pd midi-out;
#X obj 246 246 s seq2-\$1-aux-label;
#X msg 476 395 write ./sequence.txt;
#X obj 476 370 r saveState;
#X obj 809 31 inlet, f 17;
#X obj 809 494 list prepend add;
#X obj 809 558 route list;
#X obj 809 470 timer, f 11;
#X obj 809 538 list append, f 22;
#X obj 809 589 s \$0-2-qlist;
#X obj 831 418 r \$0-begin-timer;
#X obj 809 441 t b b a, f 22;
#X obj 809 337 spigot 0, f 27;
#X msg 1324 412 clear;
#X obj 962 238 spigot 0, f 14;
#X msg 995 288 1;
#X msg 962 288 0;
#X obj 1324 436 s \$0-2-qlist;
#X obj 962 264 t b b b, f 24;
#X msg 1206 335 3;
#X obj 809 309 t a b;
#X obj 1317 393 s \$0-begin-timer;
#X obj 1206 491 v seq2-\$1-state;
#X msg 1272 518 1;
#X obj 1272 551 s seq2-\$1-something-recorded, f 26;
#X obj 809 359 t a a, f 23;
#X obj 1026 433 bag;
#X msg 1026 407 flush;
#X obj 1026 455 pack 0 0;
#X obj 1026 497 s \$0-note-offs-record, f 19;
#X msg 1057 163 1;
#N canvas 182 50 1523 881 states 0;
#X text 284 14 Controls State With Aux Button;
#X obj 347 317 list prepend, f 13;
#X obj 347 339 route 0 1, f 20;
#X obj 226 17 inlet;
#X obj 226 69 sel 1, f 12;
#X obj 750 316 f;
#X obj 750 263 sel 1;
#X obj 750 223 t f f, f 7;
#X obj 750 342 sel 1;
#X obj 750 288 del 500;
#X msg 258 441 1;
#X obj 258 464 b;
#X obj 258 531 sel 0 1 2 3 4, f 66;
#X obj 226 122 sel 0;
#X msg 997 103 stop;
#X msg 938 102 0;
#X text 973 104 =;
#X text 973 134 =;
#X msg 938 132 1;
#X msg 997 133 start;
#X text 973 164 =;
#X msg 938 162 2;
#X msg 997 163 recenable;
#X text 943 494 when something is recorded switch the variable to 3
;
#X text 973 194 =;
#X msg 937 192 3;
#X msg 997 193 record;
#X text 973 224 =;
#X msg 937 222 4;
#X msg 996 222 latch on;
#X obj 415 395 t f f, f 17;
#X msg 415 373 4;
#X obj 626 704 t f f;
#X msg 626 679 0;
#X msg 533 555 1;
#X msg 349 556 0;
#X obj 349 579 t f f;
#X obj 258 672 t f f;
#X msg 258 649 1;
#X msg 441 729 0;
#X obj 441 752 t f f;
#X msg 750 364 2;
#X obj 750 389 t f f, f 17;
#X text 930 558 latch off is simply in all of these \, eg right outlet
of select;
#X text 577 557 if recording: end seq and go back to play;
#X obj 414 219 f;
#X obj 533 579 t f f b, f 8;
#X obj 347 166 t b b, f 10;
#X obj 414 241 sel 0;
#X msg 414 273 0;
#X obj 446 270 t b;
#X msg 446 291 1;
#X obj 258 735 v seq2-\$1-state;
#X obj 290 704 s seq2-\$1-actions;
#X obj 381 601 s seq2-\$1-actions;
#X obj 473 774 s seq2-\$1-actions;
#X obj 658 732 s seq2-\$1-actions;
#X obj 559 635 s seq2-\$1-actions;
#X obj 586 612 s seq2-\$1-end_seq;
#X obj 441 795 v seq2-\$1-state;
#X obj 625 755 v seq2-\$1-state;
#X obj 533 656 v seq2-\$1-state;
#X obj 349 621 v seq2-\$1-state;
#X obj 415 420 v seq2-\$1-state;
#X obj 750 420 v seq2-\$1-state;
#X obj 866 420 s seq2-\$1-actions;
#X obj 531 421 s seq2-\$1-actions;
#X obj 226 97 v seq2-\$1-state;
#X obj 258 497 v seq2-\$1-state;
#X obj 432 189 r seq2-\$1-count-notes;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 2 1 31 0;
#X connect 3 0 4 0;
#X connect 4 0 67 0;
#X connect 4 1 7 0;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 6 0;
#X connect 7 1 5 1;
#X connect 8 0 41 0;
#X connect 9 0 5 0;
#X connect 10 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 68 0;
#X connect 12 0 38 0;
#X connect 12 1 35 0;
#X connect 12 2 39 0;
#X connect 12 3 34 0;
#X connect 12 4 33 0;
#X connect 13 0 47 0;
#X connect 13 1 10 0;
#X connect 30 0 63 0;
#X connect 30 1 66 0;
#X connect 31 0 30 0;
#X connect 32 0 60 0;
#X connect 32 1 56 0;
#X connect 33 0 32 0;
#X connect 34 0 46 0;
#X connect 35 0 36 0;
#X connect 36 0 62 0;
#X connect 36 1 54 0;
#X connect 37 0 52 0;
#X connect 37 1 53 0;
#X connect 38 0 37 0;
#X connect 39 0 40 0;
#X connect 40 0 59 0;
#X connect 40 1 55 0;
#X connect 41 0 42 0;
#X connect 42 0 64 0;
#X connect 42 1 65 0;
#X connect 45 0 48 0;
#X connect 46 0 61 0;
#X connect 46 1 57 0;
#X connect 46 2 58 0;
#X connect 47 0 1 0;
#X connect 47 1 45 0;
#X connect 48 0 49 0;
#X connect 48 1 50 0;
#X connect 49 0 1 1;
#X connect 50 0 51 0;
#X connect 51 0 1 1;
#X connect 67 0 13 0;
#X connect 68 0 12 0;
#X connect 69 0 45 1;
#X restore 31 400 pd states;
#X obj 31 370 inlet aux;
#X obj 27 529 sel 0 1 2 3 4, f 20;
#X msg 27 573 0;
#X msg 67 573 3;
#X msg 101 573 6;
#X msg 137 572 1;
#X msg 172 572 4;
#X obj 27 624 s seq2-\$1-led;
#X obj 27 487 r seq2-\$1-actions;
#X msg 366 216 Latch Off;
#X obj 245 55 sel 0 1 2 3 4, f 20;
#X obj 245 16 r seq2-\$1-actions;
#X obj 417 95 t b;
#X msg 350 194 Latch On;
#X msg 581 203 0;
#X obj 527 122 sel 0 1 2 3 4, f 20;
#X msg 527 223 0;
#X msg 554 150 1;
#X text 670 90 play/stop control;
#X obj 554 172 s seq2-\$1-kill;
#X obj 581 225 s seq2-\$1-kill;
#X obj 527 245 s seq2-\$1-kill;
#X obj 735 658 qlist;
#X obj 735 635 r \$0-2-qlist;
#X obj 767 760 spigot 0;
#X obj 799 845 s \$0-2-qlist;
#X msg 799 817 rewind \, bang;
#X text 953 959 states are: 0 = stopped \, 1 = playing \, 2 = rec enabled
\, 3 = recording, f 70;
#X obj 767 889 t b b;
#X obj 830 935 delay 100;
#X text 1123 1042 Flashes LED at loop & sets color after sequence stop
;
#X msg 830 1010 0;
#X msg 875 1009 3;
#X msg 921 1010 6;
#X msg 966 1010 1;
#X msg 767 933 7;
#X obj 767 782 t b b;
#X obj 1194 73 loadbang;
#X obj 1194 169 s \$0-2-qlist;
#X msg 1194 129 tempo \$1;
#X msg 1194 95 1;
#X msg 874 731 1;
#X msg 925 749 rewind \, bang;
#X obj 925 771 s \$0-2-qlist;
#X msg 830 707 rewind;
#X msg 820 736 0;
#X msg 675 781 stop;
#X msg 616 780 0;
#X text 651 782 =;
#X text 651 812 =;
#X msg 616 810 1;
#X msg 675 811 start;
#X text 651 842 =;
#X msg 616 840 2;
#X msg 675 841 recenable;
#X text 651 872 =;
#X msg 615 870 3;
#X msg 675 871 record;
#X text 651 902 =;
#X msg 615 900 4;
#X msg 674 900 latch on;
#X obj 820 679 sel 0 1, f 25;
#X obj 830 983 sel 0 1 2 3 4, f 33;
#X msg 1012 1011 4;
#X obj 1235 41 inlet tempo;
#X text 540 658 click to see list =======>;
#X obj 1000 1052 s seq2-\$1-led;
#X obj 527 80 r seq2-\$1-actions;
#X obj 476 417 s \$0-2-qlist;
#X obj 317 424 s \$0-2-qlist;
#X obj 244 710 outlet notes;
#X obj 809 151 list prepend 1;
#X obj 970 82 list prepend 2;
#X obj 244 600 route 1;
#X obj 970 18 r seq2-\$1-end_seq;
#X obj 356 802 bag;
#X msg 385 762 flush;
#X obj 356 826 pack 0 0;
#X text 358 648 Kills notes left on by sequence.;
#X obj 334 586 r seq2-\$1-zero_notes;
#X obj 841 127 s \$0-notes-thru;
#X obj 335 561 r \$0-notes-thru;
#X obj 356 852 s seq2-\$1-zero_notes;
#X obj 443 727 r seq2-\$1-quitting;
#X obj 384 672 r seq2-\$1-actions;
#X obj 244 672 t a a;
#X obj 809 59 t a a;
#X msg 286 434 1;
#X obj 286 456 s seq2-\$1-something-recorded;
#X obj 1057 116 r seq2-\$1-actions;
#X obj 1103 169 t b;
#X msg 1103 191 0;
#X obj 820 657 r seq2-\$1-kill;
#X obj 809 253 spigot 0;
#X obj 839 189 r seq2-\$1-something-recorded, f 26;
#X obj 830 959 v seq2-\$1-state;
#X obj 1206 363 t f f b b b, f 23;
#X obj 1245 462 s seq2-\$1-actions;
#X obj 970 40 t b b;
#X obj 650 318 r \$0-note-offs-record, f 19;
#X msg 970 60 0 0;
#X obj 809 515 list append \$1-seq2;
#X obj 244 578 r \$1-seq2;
#X obj 967 384 route 1;
#X obj 1057 138 sel 2 3;
#X obj 385 694 sel 0 1 2 3 4;
#X text 343 476 if a note is still on when record stops \, stop it
at end of sequence but also block note thru off to happen;
#X obj 1331 48 inlet kill;
#X obj 1363 144 s seq2-\$1-actions;
#X msg 1331 80 0;
#X obj 1331 176 v seq2-\$1-state;
#X obj 1331 110 t f f, f 14;
#X obj 650 353 list prepend 1;
#X connect 0 0 10 0;
#X connect 1 0 10 0;
#X connect 2 0 10 0;
#X connect 3 0 10 0;
#X connect 6 0 7 0;
#X connect 7 0 128 0;
#X connect 7 1 8 0;
#X connect 8 0 110 0;
#X connect 11 0 109 0;
#X connect 12 0 11 0;
#X connect 13 0 127 0;
#X connect 14 0 142 0;
#X connect 15 0 18 0;
#X connect 16 0 14 0;
#X connect 17 0 15 0;
#X connect 19 0 16 0;
#X connect 20 0 16 0;
#X connect 20 1 16 1;
#X connect 20 2 17 1;
#X connect 21 0 34 0;
#X connect 22 0 26 0;
#X connect 23 0 27 0;
#X connect 24 0 21 1;
#X connect 25 0 23 1;
#X connect 27 0 25 0;
#X connect 27 1 24 0;
#X connect 27 2 28 0;
#X connect 28 0 137 0;
#X connect 29 0 21 0;
#X connect 29 1 23 0;
#X connect 32 0 33 0;
#X connect 34 0 20 0;
#X connect 34 1 144 0;
#X connect 35 0 37 0;
#X connect 36 0 35 0;
#X connect 37 0 38 0;
#X connect 39 0 23 1;
#X connect 41 0 40 0;
#X connect 42 0 43 0;
#X connect 42 1 44 0;
#X connect 42 2 45 0;
#X connect 42 3 46 0;
#X connect 42 4 47 0;
#X connect 43 0 48 0;
#X connect 44 0 48 0;
#X connect 45 0 48 0;
#X connect 46 0 48 0;
#X connect 47 0 48 0;
#X connect 49 0 42 0;
#X connect 50 0 10 0;
#X connect 51 0 1 0;
#X connect 51 1 0 0;
#X connect 51 2 2 0;
#X connect 51 3 3 0;
#X connect 51 4 54 0;
#X connect 51 5 53 0;
#X connect 52 0 51 0;
#X connect 53 0 50 0;
#X connect 54 0 10 0;
#X connect 55 0 61 0;
#X connect 56 0 57 0;
#X connect 56 1 58 0;
#X connect 56 2 55 0;
#X connect 56 3 55 0;
#X connect 56 4 55 0;
#X connect 57 0 62 0;
#X connect 58 0 60 0;
#X connect 63 1 65 0;
#X connect 64 0 63 0;
#X connect 65 0 77 0;
#X connect 67 0 66 0;
#X connect 69 0 76 0;
#X connect 69 1 70 0;
#X connect 70 0 136 0;
#X connect 72 0 107 0;
#X connect 73 0 107 0;
#X connect 74 0 107 0;
#X connect 75 0 107 0;
#X connect 76 0 107 0;
#X connect 77 0 69 0;
#X connect 77 1 67 0;
#X connect 78 0 81 0;
#X connect 80 0 79 0;
#X connect 81 0 80 0;
#X connect 82 0 65 1;
#X connect 83 0 84 0;
#X connect 85 0 84 0;
#X connect 86 0 65 1;
#X connect 102 0 85 0;
#X connect 102 0 86 0;
#X connect 102 1 82 0;
#X connect 102 1 83 0;
#X connect 103 0 72 0;
#X connect 103 1 73 0;
#X connect 103 2 74 0;
#X connect 103 3 75 0;
#X connect 103 4 104 0;
#X connect 104 0 107 0;
#X connect 105 0 80 0;
#X connect 108 0 56 0;
#X connect 112 0 134 0;
#X connect 113 0 29 0;
#X connect 114 0 126 0;
#X connect 115 0 139 0;
#X connect 116 0 118 0;
#X connect 117 0 116 0;
#X connect 118 0 123 0;
#X connect 120 0 111 0;
#X connect 122 0 111 0;
#X connect 124 0 117 0;
#X connect 125 0 146 0;
#X connect 126 0 111 0;
#X connect 126 1 116 0;
#X connect 127 0 112 0;
#X connect 127 1 121 0;
#X connect 128 0 129 0;
#X connect 130 0 145 0;
#X connect 131 0 132 0;
#X connect 132 0 23 1;
#X connect 132 0 21 1;
#X connect 133 0 102 0;
#X connect 134 0 29 0;
#X connect 135 0 134 1;
#X connect 136 0 103 0;
#X connect 137 0 31 0;
#X connect 137 1 138 0;
#X connect 137 2 32 0;
#X connect 137 3 30 0;
#X connect 137 4 22 0;
#X connect 139 0 141 0;
#X connect 139 1 36 0;
#X connect 140 0 153 0;
#X connect 141 0 113 0;
#X connect 142 0 17 0;
#X connect 143 0 114 0;
#X connect 144 0 35 0;
#X connect 145 0 39 0;
#X connect 145 2 131 0;
#X connect 146 0 117 0;
#X connect 146 1 117 0;
#X connect 146 2 117 0;
#X connect 146 3 117 0;
#X connect 146 4 117 0;
#X connect 148 0 150 0;
#X connect 150 0 152 0;
#X connect 152 0 151 0;
#X connect 152 1 149 0;
#X connect 153 0 20 0;
#X restore 172 286 pd seq2;
#X obj 414 199 r seq2-\$1-notes-in;
#X obj 172 323 s seq2-\$1-notes-out;
#X text 18 8 Sequencer2: A simple sequencer Module.;
#X text 15 38 Argument1: Module Shortcut Name (seq2);
#X text 15 58 Argument2: Sequencer2 Instance Number;
#X text 373 35 uses the input aux button to start / stop / record a
sequence. Only two inputs needed: (r seq2-\$1-aux) and (r seq2-\$1-notes-in)
, f 43;
#X obj 172 235 r seq2-\$1-aux;
#X obj 124 396 outlet;
#X obj 315 135 inlet aux;
#X obj 136 124 inlet notes;
#X obj 242 261 r seq2-\$1-speed-in;
#N canvas 0 50 1920 999 latch 0;
#X text 522 130 THE LATCH!;
#X msg 563 237 1;
#X msg 595 237 0;
#X obj 468 95 inlet;
#X obj 468 313 outlet;
#X obj 563 192 sel 4;
#X obj 563 167 r seq2-\$1-actions;
#X obj 595 212 t b;
#N canvas 4 50 450 300 latch-notes 0;
#N canvas 1008 65 817 631 latcher 0;
#X obj 220 378 bag;
#X msg 317 311 flush;
#X obj 169 81 t a a, f 17;
#X obj 285 257 t a b;
#X obj 169 44 inlet;
#X obj 285 475 outlet;
#X obj 443 58 inlet;
#X obj 285 126 stripnote;
#X obj 285 228 pack, f 9;
#X obj 443 142 t b;
#X obj 169 103 unpack;
#X obj 169 156 swap;
#X obj 169 198 pack;
#X obj 169 220 route 0;
#X obj 220 400 pack 1 0;
#X obj 169 241 pack 0 100;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 2 1 7 0;
#X connect 3 0 5 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 3 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 14 0 5 0;
#X connect 15 0 0 0;
#X restore 43 413 pd latcher;
#X obj 173 298 spigot 1;
#X obj 43 298 spigot 0;
#X obj 226 272 == 0;
#X obj 193 134 inlet;
#X obj 43 626 outlet;
#X obj 43 106 inlet;
#X text 241 135 bang enable / disables latch;
#X text 44 53 incoming notes get sent through latch if enabled \, or
directly to output if disabled;
#X obj 309 298 b;
#X obj 193 159 t f f b, f 17;
#X connect 0 0 5 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 1 1;
#X connect 4 0 10 0;
#X connect 6 0 2 0;
#X connect 6 0 1 0;
#X connect 9 0 0 1;
#X connect 10 0 2 1;
#X connect 10 1 3 0;
#X connect 10 2 9 0;
#X restore 468 270 pd latch-notes;
#X connect 1 0 8 1;
#X connect 2 0 8 1;
#X connect 3 0 8 0;
#X connect 5 0 1 0;
#X connect 5 1 7 0;
#X connect 6 0 5 0;
#X connect 7 0 2 0;
#X connect 8 0 4 0;
#X restore 414 363 pd latch;
#X text 478 362 notes go to latch;
#X obj 414 276 t a a, f 30;
#N canvas 465 362 785 435 count-notes 0;
#X obj 103 54 inlet;
#X obj 103 134 sel 0;
#X obj 146 240 + 1;
#X obj 103 216 t b f, f 10;
#X obj 103 240 f 0;
#X obj 135 159 t b;
#X msg 103 188 -1;
#X msg 135 188 1;
#X obj 103 101 unpack;
#X obj 146 266 min 24;
#X obj 146 288 max 0;
#X obj 146 313 s seq2-\$1-count-notes;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 1 1 5 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 3 1 2 1;
#X connect 4 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 1 1 0;
#X connect 9 0 10 0;
#X connect 10 0 4 1;
#X connect 10 0 11 0;
#X restore 621 302 pd count-notes;
#X obj 649 161 inlet kill;
#X connect 0 0 2 0;
#X connect 0 0 8 0;
#X connect 1 0 14 0;
#X connect 7 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 14 0;
#X connect 11 0 0 2;
#X connect 12 0 0 1;
#X connect 14 0 12 0;
#X connect 14 1 15 0;
#X connect 16 0 0 3;
